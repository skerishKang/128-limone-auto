"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[871],{871:function(e,t,s){s.r(t),s.d(t,{default:function(){return c}});var r=s(5893),l=s(7294),i=s(578),a=s(424),n=s(284),o=s(3411);function c(){let{conversations:e,isLoading:t,createConversation:s}=(0,n.B)(),[c,d]=(0,l.useState)(null),[x,u]=(0,l.useState)(!1),[h,m]=(0,l.useState)(450),p=(0,l.useRef)(null),g=(0,l.useRef)(!1),y=async()=>{try{u(!0);let e=await s();d(e.id)}catch(e){console.error("Failed to create conversation:",e)}finally{u(!1)}};return(0,l.useEffect)(()=>{let e=e=>{if(!g.current||!p.current)return;let t=p.current.getBoundingClientRect();m(Math.min(Math.max(t.width-(e.clientX-t.left),350),800))},t=()=>{g.current=!1,document.body.style.cursor="",document.body.style.userSelect=""};return document.addEventListener("mousemove",e),document.addEventListener("mouseup",t),()=>{document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",t)}},[]),(0,r.jsxs)("div",{ref:p,className:"h-screen flex bg-gray-50 overflow-hidden",children:[(0,r.jsxs)("aside",{className:"w-16 bg-gray-800 border-r border-gray-700 flex flex-col items-center py-3 gap-3 flex-shrink-0",children:[(0,r.jsx)("div",{className:"text-2xl",title:"Limone Auto",children:"\uD83C\uDF4B"}),(0,r.jsx)("div",{className:"w-8 h-px bg-gray-700"}),(0,r.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,r.jsxs)("div",{className:"relative group",title:"Gmail (5)",children:[(0,r.jsx)("div",{className:"w-10 h-10 rounded-lg bg-gray-700 hover:bg-yellow-600 flex items-center justify-center cursor-pointer transition-colors",children:(0,r.jsx)("span",{className:"text-xl",children:"\uD83D\uDCE7"})}),(0,r.jsx)("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-bold",children:"5"}),(0,r.jsx)("div",{className:"absolute left-12 top-0 bg-gray-900 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap",children:"Gmail"})]}),(0,r.jsxs)("div",{className:"relative group",title:"Calendar (3)",children:[(0,r.jsx)("div",{className:"w-10 h-10 rounded-lg bg-gray-700 hover:bg-yellow-600 flex items-center justify-center cursor-pointer transition-colors",children:(0,r.jsx)("span",{className:"text-xl",children:"\uD83D\uDCC5"})}),(0,r.jsx)("span",{className:"absolute -top-1 -right-1 bg-blue-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-bold",children:"3"}),(0,r.jsx)("div",{className:"absolute left-12 top-0 bg-gray-900 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap",children:"Calendar"})]}),(0,r.jsxs)("div",{className:"relative group",title:"Telegram (8)",children:[(0,r.jsx)("div",{className:"w-10 h-10 rounded-lg bg-gray-700 hover:bg-yellow-600 flex items-center justify-center cursor-pointer transition-colors",children:(0,r.jsx)("span",{className:"text-xl",children:"\uD83D\uDCAC"})}),(0,r.jsx)("span",{className:"absolute -top-1 -right-1 bg-blue-400 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-bold",children:"8"}),(0,r.jsx)("div",{className:"absolute left-12 top-0 bg-gray-900 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap",children:"Telegram"})]}),(0,r.jsxs)("div",{className:"relative group",title:"Drive (48)",children:[(0,r.jsx)("div",{className:"w-10 h-10 rounded-lg bg-gray-700 hover:bg-yellow-600 flex items-center justify-center cursor-pointer transition-colors",children:(0,r.jsx)("span",{className:"text-xl",children:"\uD83D\uDCC1"})}),(0,r.jsx)("span",{className:"absolute -top-1 -right-1 bg-green-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-bold text-xs",children:"48"}),(0,r.jsx)("div",{className:"absolute left-12 top-0 bg-gray-900 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap",children:"Drive"})]}),(0,r.jsxs)("div",{className:"relative group",title:"Weather",children:[(0,r.jsx)("div",{className:"w-10 h-10 rounded-lg bg-gray-700 hover:bg-yellow-600 flex items-center justify-center cursor-pointer transition-colors",children:(0,r.jsx)("span",{className:"text-xl",children:"\uD83C\uDF24️"})}),(0,r.jsx)("div",{className:"absolute left-12 top-0 bg-gray-900 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap",children:"Weather"})]}),(0,r.jsxs)("div",{className:"relative group",title:"News",children:[(0,r.jsx)("div",{className:"w-10 h-10 rounded-lg bg-gray-700 hover:bg-yellow-600 flex items-center justify-center cursor-pointer transition-colors",children:(0,r.jsx)("span",{className:"text-xl",children:"\uD83D\uDCF0"})}),(0,r.jsx)("div",{className:"absolute left-12 top-0 bg-gray-900 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap",children:"News"})]}),(0,r.jsxs)("div",{className:"relative group",title:"System",children:[(0,r.jsx)("div",{className:"w-10 h-10 rounded-lg bg-gray-700 hover:bg-yellow-600 flex items-center justify-center cursor-pointer transition-colors",children:(0,r.jsx)("span",{className:"text-xl",children:"\uD83D\uDDA5️"})}),(0,r.jsx)("div",{className:"absolute left-12 top-0 bg-gray-900 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap",children:"System"})]}),(0,r.jsxs)("div",{className:"relative group",title:"Todo (3)",children:[(0,r.jsx)("div",{className:"w-10 h-10 rounded-lg bg-gray-700 hover:bg-yellow-600 flex items-center justify-center cursor-pointer transition-colors",children:(0,r.jsx)("span",{className:"text-xl",children:"✅"})}),(0,r.jsx)("span",{className:"absolute -top-1 -right-1 bg-purple-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-bold",children:"3"}),(0,r.jsx)("div",{className:"absolute left-12 top-0 bg-gray-900 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap",children:"Todo"})]})]}),(0,r.jsx)("div",{className:"w-8 h-px bg-gray-700 mt-auto mb-2"}),(0,r.jsx)("button",{onClick:y,disabled:x,className:" w-10 h-10 bg-yellow-500 hover:bg-yellow-400 disabled:bg-gray-600 disabled:cursor-not-allowed rounded-lg flex items-center justify-center transition-colors text-xl ",title:"새 채팅",children:x?(0,r.jsx)(o.Z,{size:"sm"}):"➕"})]}),(0,r.jsxs)("div",{className:"bg-white border-r flex flex-col shadow-sm transition-all duration-200 overflow-hidden",style:{width:"calc(100% - ".concat(64+h,"px)")},children:[(0,r.jsx)("div",{className:"p-3 border-b bg-white sticky top-0 z-10",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h1",{className:"text-lg font-bold text-gray-800 flex items-center gap-2",children:"\uD83D\uDCCA 대시보드"}),(0,r.jsx)("span",{className:"text-xs text-gray-500",children:"v2.0"})]})}),(0,r.jsxs)("div",{className:"p-3 border-b bg-gray-50",children:[(0,r.jsx)("h2",{className:"text-sm font-semibold text-gray-600 mb-2",children:"\uD83D\uDCAC 채팅 목록"}),(0,r.jsx)("div",{className:"space-y-1 max-h-32 overflow-y-auto",children:t?(0,r.jsx)("div",{className:"flex items-center justify-center p-4",children:(0,r.jsx)(o.Z,{size:"sm"})}):0===e.length?(0,r.jsx)("div",{className:"text-center text-gray-500 p-2",children:(0,r.jsx)("p",{className:"text-sm",children:"대화가 없습니다"})}):e.map(e=>(0,r.jsx)("div",{onClick:()=>d(e.id),className:"\n                    p-2 rounded-lg cursor-pointer\n                    transition-colors text-xs\n                    ".concat(c===e.id?"bg-yellow-100 border-2 border-yellow-400":"bg-gray-50 hover:bg-gray-100","\n                  "),children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h3",{className:"font-medium text-gray-800 truncate flex-1",children:e.title}),(0,r.jsx)("span",{className:"text-xs text-gray-500 ml-1",children:e.message_count||0})]})},e.id))})]}),(0,r.jsx)("div",{className:"flex-1 overflow-y-auto overflow-x-hidden",children:(0,r.jsx)(a.Z,{})})]}),(0,r.jsx)("div",{onMouseDown:e=>{g.current=!0,document.body.style.cursor="col-resize",document.body.style.userSelect="none"},className:"w-1 bg-gray-200 hover:bg-yellow-400 cursor-col-resize transition-colors duration-150 flex-shrink-0",title:"드래그로 너비 조절"}),(0,r.jsxs)("main",{className:"flex flex-col bg-white shadow-sm",style:{width:"".concat(h,"px")},children:[(0,r.jsxs)("div",{className:"bg-white border-b p-3 flex items-center justify-between sticky top-0 z-10",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("h2",{className:"text-base font-semibold text-gray-800",children:"\uD83D\uDCAC 채팅"}),c&&(0,r.jsxs)("span",{className:"text-xs text-gray-500",children:["ID: ",c]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),(0,r.jsx)("span",{className:"text-xs text-gray-600",children:"AI 연결됨"})]})]}),(0,r.jsx)("div",{className:"flex-1 overflow-hidden",children:c?(0,r.jsx)(i.Z,{conversationId:c}):(0,r.jsx)("div",{className:"h-full flex items-center justify-center bg-gray-50",children:(0,r.jsxs)("div",{className:"text-center p-4",children:[(0,r.jsx)("div",{className:"text-5xl mb-3",children:"\uD83E\uDD16"}),(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Limone AI와 채팅을 시작하세요!"}),(0,r.jsxs)("p",{className:"text-gray-600 text-sm mb-4",children:["왼쪽에서 새 채팅을 만들거나,",(0,r.jsx)("br",{}),"기존 대화를 선택하세요."]}),(0,r.jsx)("button",{onClick:y,disabled:x,className:" px-4 py-2 bg-yellow-400 hover:bg-yellow-500 disabled:bg-gray-300 text-gray-900 rounded-lg font-medium transition-colors text-sm ",children:"➕ 새 채팅 시작"})]})})})]})]})}}}]);