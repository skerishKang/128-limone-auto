"use strict";exports.id=629,exports.ids=[629],exports.modules={9629:(e,s,t)=>{t.r(s),t.d(s,{default:()=>d});var l=t(997),a=t(6689),r=t(4242),i=t(5090);function n({isOpen:e,onClose:s,children:t}){return e?(0,l.jsxs)(l.Fragment,{children:[l.jsx("div",{className:" fixed inset-0 bg-black bg-opacity-50 z-40 transition-opacity ",onClick:s}),(0,l.jsxs)("div",{className:"fixed top-0 right-0 h-full w-80 bg-white shadow-xl z-50 transform transition-transform "+(e?"translate-x-0":"translate-x-full"),children:[(0,l.jsxs)("div",{className:"p-4 border-b flex items-center justify-between",children:[l.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"메뉴"}),l.jsx("button",{onClick:s,className:" p-2 rounded-lg hover:bg-gray-100 transition-colors ",children:"✕"})]}),l.jsx("div",{className:"h-[calc(100%-64px)] overflow-y-auto",children:t})]})]}):null}var c=t(3405),o=t(5934);function d(){let{conversations:e,isLoading:s,createConversation:t}=(0,c.B)(),[d,x]=(0,a.useState)(!1),[m,h]=(0,a.useState)(null),[g,j]=(0,a.useState)(!1),b=async()=>{try{j(!0);let e=await t();h(e.id),x(!1)}catch(e){console.error("Failed to create conversation:",e)}finally{j(!1)}},u=e=>{h(e),x(!1)};return(0,l.jsxs)("div",{className:"h-screen relative bg-white",children:[(0,l.jsxs)("header",{className:"bg-yellow-400 p-4 flex items-center justify-between shadow-sm",children:[l.jsx("h1",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:"\uD83C\uDF4B Limone"}),l.jsx("button",{onClick:()=>x(!d),className:" p-2 rounded-lg hover:bg-yellow-500 transition-colors text-xl ",children:"☰"})]}),l.jsx("main",{className:"h-[calc(100vh-64px)]",children:l.jsx(r.Z,{conversationId:m||0})}),(0,l.jsxs)(n,{isOpen:d,onClose:()=>x(!1),children:[l.jsx("div",{className:"p-4 border-b",children:l.jsx("button",{onClick:b,disabled:g,className:" w-full px-4 py-3 bg-yellow-400 hover:bg-yellow-500 disabled:bg-gray-300 text-gray-900 rounded-lg font-medium text-sm transition-colors flex items-center justify-center gap-2 ",children:g?(0,l.jsxs)(l.Fragment,{children:[l.jsx(o.Z,{size:"sm"}),"생성 중..."]}):l.jsx(l.Fragment,{children:"➕ 새 채팅"})})}),(0,l.jsxs)("div",{className:"p-2",children:[l.jsx("h3",{className:"text-sm font-semibold text-gray-600 mb-2 px-2",children:"대화 목록"}),s?l.jsx("div",{className:"flex items-center justify-center p-8",children:l.jsx(o.Z,{})}):0===e.length?(0,l.jsxs)("div",{className:"p-4 text-center text-gray-500",children:[l.jsx("p",{children:"대화가 없습니다"}),l.jsx("p",{className:"text-sm mt-2",children:"새 채팅을 시작하세요!"})]}):l.jsx("div",{className:"space-y-2",children:e.map(e=>(0,l.jsxs)("div",{onClick:()=>u(e.id),className:`
                    p-3 rounded-lg cursor-pointer
                    transition-colors
                    ${m===e.id?"bg-yellow-100 border-2 border-yellow-400":"bg-gray-50 hover:bg-gray-100"}
                  `,children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[l.jsx("h4",{className:"font-medium text-gray-800 truncate text-sm",children:e.title}),l.jsx("span",{className:"text-xs text-gray-500",children:e.message_count||0})]}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(e.created_at).toLocaleDateString("ko-KR")})]},e.id))})]}),(0,l.jsxs)("div",{className:"p-4 border-t",children:[l.jsx("h3",{className:"text-sm font-semibold text-gray-600 mb-2",children:"서비스 위젯"}),l.jsx(i.Z,{})]})]})]})}}};